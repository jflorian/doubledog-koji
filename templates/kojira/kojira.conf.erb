<%#
This file is part of the doubledog-koji Puppet module.
Copyright 2016-2021 John Florian
SPDX-License-Identifier: GPL-3.0-or-later
-%>
# This file is managed by Puppet via the "<%= @module_name %>" module.
#
# vim: filetype=configparser

[kojira]
# For user/pass authentication
;user=kojira
;password=kojira

# For Kerberos authentication
# the principal to connect with
;principal=koji/repo@EXAMPLE.COM
# The location of the keytab for the principal above
;keytab=/etc/kojira.keytab

# The URL for the koji hub server
server=<%= @hub %>

# The directory containing the repos/ directory
topdir=<%= @top_dir %>

# Logfile
logfile=/var/log/kojira.log

# configuration for Kerberos authentication

# the kerberos principal to use
;principal = kojira@EXAMPLE.COM

# location of the keytab
;keytab = /etc/kojira/kojira.keytab

# the service name of the principal being used by the hub
;krbservice = host

# The realm of server principal. Using client's realm if not set
;krb_server_realm = EXAMPLE.COM

# configuration for SSL authentication

# client certificate
cert = /etc/kojira/kojira.crt

# certificate of the CA that issued the HTTP server certificate
serverca = /etc/kojira/hub-ca-chain.crt

# how soon (in seconds) to clean up expired repositories
deleted_repo_lifetime = <%= @deleted_repo_lifetime %>

# how soon (in seconds) to clean up dist repositories
dist_repo_lifetime = <%= @dist_repo_lifetime %>

# turn on debugging statements in the log
debug = <%= @debug %>

# ignored repositories according to glob. Multiple masks separated by space.
;ignore_tags =


# Monitor external repos and trigger the appropriate Koji repo regenerations
# when they change. Note that you need to have your database set to use UTC,
# as otherwise you can end with weird behaviour. For details see
# https://pagure.io/koji/issue/2159
;check_external_repos = false
